---
title: "Manipulación de datos con R"
author: Departamento de matemáticas </br> Pontificia Unversidad Javeriana </br> Sede Cali
output: 
  learnr::tutorial:
    css: css/learnr_metadocencia.css
    progressive: false
    language:
    es: tutorial_es.json
description: "Primera parte: Importar datos" 
runtime: shiny_prerendered
---
<style>body {text-align: justify}</style>

```{r echo=FALSE, fig.cap = ""}
library("learnr")
library("vembedr")
```

![](https://cardbiss.com/wp-content/uploads/2021/10/lenguaje-programacion-r-2055589.jpg){width=100%}

# Importar datos

## Introducción
Conociendo que  R es un lenguaje de programación orientado al análisis de datos, lo primero que debe hacerse para empezar un análisis con datos en R es, evidentemente, cargar los datos en R. El trabajo con base de datos, en su mayoría, será inherente al software Microsoft Excel. La digitación de encuestas y/o datos de reporte se realizan, generalmente, en hojas de cálculo; de aquí que un formato primario para almacenar bases de datos sean las planillas de cálculo de Excel. En R se pueden importar bases de datos de múltiples formatos, a saber; Excel, formato txt (texto), SPSS, JSON, XML e inclusive, bajar datos a través de APIs. La presente tutoría se enfocará en importar datos desde Excel.


Excel en su forma más general, maneja tres formatos para sus hojas de cáculo, estos son: 

- .xlsx: Documentos de salida de hoja de cálculo por defecto de las versiones más recientes de Microsoft Excel (posteriores o iguales a la del 2007).

- .xls: Documentos de salida de hoja de cálculo por defecto de las versiones desde 1997 y 2003.

- .csv: Datos separados por comas
### Importar datos desde código
El lenguaje R por defecto tiene un paquete base, con el cual es posible importar bases de datos (funciones read.csv). Sin embargo, la importación de datos desde la interfaz de R studio utiliza librerías adicionales de R (por velocidad y otras utilidades de compatibilidad). La siguiente tabla resumen las funciones pertinentes para la carga de datos:

| Extensión   | Tipo de archivo             | Función              |
|-------------|-----------------------------|----------------------|
| .csv        | Valores Separados por Comas | readr::read_csv()    |
| .tsv, .txt  | Valores Separados por Comas | readr::read_tsv()    |
| .xls, .xlsx | Libro de excel              | readxl::read_excel() |

Recuerde que los dobles puntos significan que la función de la derecha proviene del paquete de la izquierda (tomando como referencia la doble puntuación). Dentro de cada función debe ir, entre comillas, la ruta de archivo de sus datos y su extensión.

- Por ejemplo:

```{r}
library("readxl") # Recuerde siempre llamar antes la librería 

Alumnos=readxl::read_excel("Datos/Alumnos.xlsx")

head(Alumnos) #función que muestra las primeras filas de los datos importados
```

### Importar datos desde la interfáz
La carga de datos se facilita mucho desde la interfáz de R studio, puede consultar los siguientes videos para aprender a cargar datos desde la interfáz:

- Para el formato .xlsx, diríjase a: File /Import Dataset/From text (base).

```{r}
embed_youtube("g8p_Rn8C6oU")
```


- Para el formato .xlsx, diríjase a: File/ Import Dataset/ From Excel.

```{r}
embed_youtube("wB7zmFKRjFk")
```

## Ejercicios: Carga de datos

Con base en los videos vistos anteriomente, ¿cuál es la ruta a seguir para importar datos desde la interfáz de R estudio?

```{r two-plus-two, exercise=TRUE}

```

### Exercise with Code

*Here's an exercise with some prepopulated code as well as `exercise.lines = 5` to provide a bit more initial room to work.*

Now write a function that adds any two numbers and then call it:

```{r add-function, exercise=TRUE, exercise.lines = 5}
add <- function() {
  
}
```



## Topic 2

### Exercise with Hint

*Here's an exercise where the chunk is pre-evaulated via the `exercise.eval` option (so the user can see the default output we'd like them to customize). We also add a "hint" to the correct solution via the chunk immediate below labeled `print-limit-hint`.*

Modify the following code to limit the number of rows printed to 5:

```{r print-limit, exercise=TRUE, exercise.eval=TRUE}
mtcars
```

```{r print-limit-hint}
head(mtcars)
```

### Quiz

*You can include any number of single or multiple choice questions as a quiz. Use the `question` function to define a question and the `quiz` function for grouping multiple questions together.*

Some questions to verify that you understand the purposes of various base and recommended R packages:

```{r quiz}
quiz(
  question("Which package contains functions for installing other R packages?",
    answer("base"),
    answer("tools"),
    answer("utils", correct = TRUE),
    answer("codetools")
  ),
  question("Which of the R packages listed below are used to create plots?",
    answer("lattice", correct = TRUE),
    answer("tools"),
    answer("stats"),
    answer("grid", correct = TRUE)
  )
)
```

